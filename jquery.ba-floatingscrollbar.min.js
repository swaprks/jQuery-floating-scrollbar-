/*
 * jQuery Floating Scrollbar - v0.4 - 02/28/2011
 * http://benalman.com/
 * 
 * Copyright (c) 2011 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */

!function(t){function l(t){c.toggle(!!t)}function i(){e&&c.scrollLeft(e.scrollLeft())}function o(){if(n=e,e=null,s.each(function(){var l=t(this),i=l.offset().top,o=i+l.height(),n=r.scrollTop()+r.height(),s=30;return n>i+s&&o>n?(e=l,!1):void 0}),!e)return void l();var o=e.scrollLeft(),d=jQuery(e[0]).find("table")[0].clientWidth-e[0].clientWidth;return e.scrollLeft(o),0>=d?void l():(l(!0),c.css({left:e.offset().left,width:e[0].clientWidth}).scrollLeft(o),f.width(e[0].offsetWidth+d),void(e!==n&&(n&&n.unbind("scroll",i),e.scroll(i))))}var e,n,r=t(this),s=(t("html"),t([])),c=t('<div id="floating-scrollbar"><div/></div>'),f=c.children();c.hide().css({position:"fixed",bottom:0,height:"30px",overflowX:"auto",overflowY:"hidden"}).scroll(function(){e&&e.scrollLeft(c.scrollLeft())}),f.css({border:"1px solid #fff",opacity:.01}),t.fn.floatingScrollbar=function(t){return t===!1?(s=s.not(this),this.unbind("scroll",i),s.length||(c.detach(),r.unbind("resize scroll",o))):this.length&&(s.length||(c.appendTo("body"),r.resize(o).scroll(o)),s=s.add(this)),o(),this},t.floatingScrollbarUpdate=o}(jQuery);
